!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}
    %meta{:content => "width=device-width, initial-scale=1.0, maximum-scale=1.0", :name => "viewport"}
    %link{:rel => 'stylesheet', :type => 'text/css', :href => '/stylesheets/semantic.min.css'}
    %link{:rel => 'stylesheet', :type => 'text/css', :href => 'https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/components/icon.min.css'}
    %link{:rel => 'stylesheet', :type => 'text/css', :href => '/stylesheets/styles.css'}
    %script{src: "https://code.jquery.com/jquery-3.3.1.min.js", integrity: "sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=",
  crossorigin: "anonymous"}
    %script{:type => 'text/javascript', :src => 'https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/components/dropdown.min.js'}
    %script{:type => 'text/javascript', :src => 'https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/components/popup.min.js'}
    %script{:type => 'text/javascript', :src => 'https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/components/transition.min.js'}
    %script{:type => 'text/javascript', :src => 'https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/components/search.min.js'}
    %script{:type => 'text/javascript', :src => 'https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/components/api.min.js'}
    %script{:src => "/javascripts/calendar.min.js", :type => "text/javascript"}
    %link{:type => 'text/css', :src => "/node_modules/semantic-ui-calendar/dist/calendar.min.css", :rel => "stylesheet"}
    %script{:type => 'text/javascript', :src => '/javascripts/custom.js'}
    %script{:src => "https://unpkg.com/stimulus/dist/stimulus.umd.js"}
    :javascript
      (() => {
        const application = Stimulus.Application.start()

        application.register("hello", class extends Stimulus.Controller {
          static get targets() {
            return [ "name" ]
          }

          greet() {
            console.log(`Hello, Stimulus!, ${this.name}!`)
          }

          get name() {
            return this.nameTarget.value
          }

          // â€¦
        })

        application
          .register("clipboard",
                    class extends Stimulus.Controller {

          static get targets() {
            return ["source"]
          }

          copy() {
            this.sourceTarget.select()
            document.execCommand("copy")
          }

        })

      })()


    %title
      Task Helper
    %meta{:content => 'display_description', :name => "description"}
  %body
    = partial('layouts/navigation', template_engine: :haml)
    %span.flash-messages
    .ui.container
      = partial('layouts/_heading', locals: { title: 'Task Helper' }, template_engine: :haml)
      = yield
      %div{"data-controller" => "clipboard"}
        %input{type: 'text', value: '1234', readonly: '', data: {target: 'clipboard.source'}}
        %button{data: {action: "clipboard#copy"}}
          Copy to Clipboard
      %div{"data-controller" => "hello"}
        %input{"data-target" => "hello.name", :type => "text"}
        %button{data: {action: 'click->hello#greet'}}
          Greet
